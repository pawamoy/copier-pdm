
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Copier template for Python projects managed by PDM.">
      
      
      
        <link rel="canonical" href="https://pawamoy.github.io/copier-pdm/work/">
      
      
        <link rel="prev" href="../generate/">
      
      
        <link rel="next" href="../update/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18+insiders-4.36.1">
    
    
      
        <title>Working on a project - Copier PDM</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cac7c1ad.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc776e4.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#working-on-a-project" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Copier PDM" class="md-header__button md-logo" aria-label="Copier PDM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.41 3 3 4.41 5.69 7.1A7.924 7.924 0 0 0 4 12c0 1.85.63 3.55 1.69 4.9L3 19.59 4.41 21l2.69-2.69A7.924 7.924 0 0 0 12 20c1.85 0 3.55-.63 4.9-1.69L19.59 21 21 19.59l-2.69-2.69A7.924 7.924 0 0 0 20 12c0-1.85-.63-3.55-1.69-4.9L21 4.41 19.59 3 16.9 5.69A7.924 7.924 0 0 0 12 4c-1.85 0-3.55.63-4.9 1.69L4.41 3M12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Copier PDM
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Working on a project
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
              </label>
            
          
        </form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/pawamoy/copier-pdm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pawamoy/copier-pdm
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item">
        <a href="../requirements/" class="md-tabs__link md-tabs__link--active">
          
  
  Usage

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://pawamoy.github.io/" class="md-tabs__link">
        
  
    
  
  Author's website

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Copier PDM" class="md-nav__button md-logo" aria-label="Copier PDM" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4.41 3 3 4.41 5.69 7.1A7.924 7.924 0 0 0 4 12c0 1.85.63 3.55 1.69 4.9L3 19.59 4.41 21l2.69-2.69A7.924 7.924 0 0 0 12 20c1.85 0 3.55-.63 4.9-1.69L19.59 21 21 19.59l-2.69-2.69A7.924 7.924 0 0 0 20 12c0-1.85-.63-3.55-1.69-4.9L21 4.41 19.59 3 16.9 5.69A7.924 7.924 0 0 0 12 4c-1.85 0-3.55.63-4.9 1.69L4.41 3M12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6Z"/></svg>

    </a>
    Copier PDM
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/pawamoy/copier-pdm" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    pawamoy/copier-pdm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../code_of_conduct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Code of Conduct
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../license/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../requirements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Requirements
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../generate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Generating a project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    
  
    Working on a project
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    
  
    Working on a project
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependencies-and-virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencies and virtual environments
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dependencies and virtual environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-in-__pypackages__-pep-582" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing in __pypackages__ (PEP 582)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-in-virtualenvs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing in virtualenvs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tasks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vscode-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        VSCode setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makefile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Makefile
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quality analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quality analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-quality" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-quality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-docs" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-docs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-api
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tests
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuous-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Continuous Integration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Changelog
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Releases
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documentation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Writing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serving" class="md-nav__link">
    <span class="md-ellipsis">
      
        Serving
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deploying
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../update/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Updating a project
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../migrate/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Migrating from copier-poetry
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://pawamoy.github.io/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    
  
    Author's website
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependencies-and-virtual-environments" class="md-nav__link">
    <span class="md-ellipsis">
      
        Dependencies and virtual environments
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dependencies and virtual environments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-in-__pypackages__-pep-582" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing in __pypackages__ (PEP 582)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-in-virtualenvs" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installing in virtualenvs
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tasks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#vscode-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        VSCode setup
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#makefile" class="md-nav__link">
    <span class="md-ellipsis">
      
        Makefile
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quality-analysis" class="md-nav__link">
    <span class="md-ellipsis">
      
        Quality analysis
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Quality analysis">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-quality" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-quality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-dependencies
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-docs" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-docs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-types" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-types
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-api" class="md-nav__link">
    <span class="md-ellipsis">
      
        check-api
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests" class="md-nav__link">
    <span class="md-ellipsis">
      
        Tests
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#continuous-integration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Continuous Integration
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changelog" class="md-nav__link">
    <span class="md-ellipsis">
      
        Changelog
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releases" class="md-nav__link">
    <span class="md-ellipsis">
      
        Releases
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Documentation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Documentation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#writing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Writing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serving" class="md-nav__link">
    <span class="md-ellipsis">
      
        Serving
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploying" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deploying
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="working-on-a-project">Working on a project<a class="headerlink" href="#working-on-a-project" title="Permanent link">¤</a></h1>
<p>The generated project has this structure:</p>
<div class="highlight"><pre><span></span><code>📁 your_project ------------------- # your freshly created project!
├── 📄 CHANGELOG.md --------------- # 
├── 📄 CODE_OF_CONDUCT.md --------- # 
├── 📁 config --------------------- # tools configuration files
│   ├── 📄 black.toml ------------- # 
│   ├── 📄 coverage.ini ----------- # 
│   ├── 📄 mypy.ini --------------- # 
│   ├── 📄 pytest.ini ------------- # 
│   └── 📄 ruff.toml -------------- # 
├── 📄 CONTRIBUTING.md ------------ # 
├── 📁 docs ----------------------- # documentation pages
│   ├── 📄 changelog.md ----------- # 
│   ├── 📄 code_of_conduct.md ----- # 
│   ├── 📄 contributing.md -------- # 
│   ├── 📄 credits.md ------------- # 
│   ├── 📁 css -------------------- # extra CSS files
│   │   ├── 📄 material.css ------- # 
│   │   └── 📄 mkdocstrings.css --- # 
│   ├── 📄 index.md --------------- # 
│   └── 📄 license.md ------------- # 
├── 📄 duties.py ------------------ # the project&#39;s tasks
├── 📄 LICENSE -------------------- # 
├── 📄 Makefile ------------------- # 
├── 📄 mkdocs.insiders.yml -------- # 
├── 📄 mkdocs.yml ----------------- # docs configuration
├── 📄 pyproject.toml ------------- # project metadata and dependencies
├── 📄 README.md ------------------ # 
├── 📁 scripts -------------------- # helper scripts
│   ├── 📄 gen_credits.py --------- # script to generate credits
│   ├── 📄 gen_ref_nav.py --------- # script to generate code reference nav
│   └── 📄 setup.sh --------------- # to install dependencies for multiple Python versions
├── 📁 src ------------------------ # the source code directory
│   └── 📁 your_package ----------- # your package
│       ├── 📄 cli.py ------------- # the command line entry point
│       ├── 📄 __init__.py -------- # 
│       ├── 📄 __main__.py -------- # 
│       └── 📄 py.typed ----------- # 
└── 📁 tests ---------------------- # the tests directory
    ├── 📄 conftest.py ------------ # pytest fixtures, etc.
    ├── 📄 __init__.py ------------ # 
    └── 📄 test_cli.py ------------ # 
</code></pre></div>
<h2 id="dependencies-and-virtual-environments">Dependencies and virtual environments<a class="headerlink" href="#dependencies-and-virtual-environments" title="Permanent link">¤</a></h2>
<p>Dependencies are managed by <a href="https://github.com/pdm-project/pdm">PDM</a>.</p>
<p>Use <code>pdm install</code> to install the dependencies.</p>
<p>Dependencies are written in <code>pyproject.toml</code>,
under the <code>[project]</code>, <code>[project.optional-dependencies]</code>
and <code>[tool.pdm.dev-dependencies]</code> sections.
Example:</p>
<div class="highlight"><span class="filename">pyproject.toml</span><pre><span></span><code><span class="k">[project]</span>
<span class="n">dependencies</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s">&quot;fastapi~=1.0&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s">&quot;importlib-metadata~=2.0&quot;</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div>
<p>You can write them there manually, or use the commands provided by PDM:</p>
<div class="highlight"><pre><span></span><code>pdm<span class="w"> </span>add<span class="w"> </span>numpy<span class="w">  </span><span class="c1"># add as a required dependency</span>
pdm<span class="w"> </span>add<span class="w"> </span>-G<span class="w"> </span>math<span class="w"> </span>numpy<span class="w">  </span><span class="c1"># add as an optional dependency in the &quot;math&quot; group</span>
pdm<span class="w"> </span>add<span class="w"> </span>-d<span class="w"> </span>numpy<span class="w">  </span><span class="c1"># or add as a development dependency in the &quot;dev&quot; group</span>
pdm<span class="w"> </span>add<span class="w"> </span>-dG<span class="w"> </span>stats<span class="w"> </span>numpy<span class="w">  </span><span class="c1"># or add as a development dependency in the &quot;stats&quot; group</span>

<span class="c1"># the &quot;remove&quot; equivalent</span>
pdm<span class="w"> </span>remove<span class="w"> </span>numpy
pdm<span class="w"> </span>remove<span class="w"> </span>-G<span class="w"> </span>math<span class="w"> </span>numpy
pdm<span class="w"> </span>remove<span class="w"> </span>-d<span class="w"> </span>numpy
pdm<span class="w"> </span>remove<span class="w"> </span>-dG<span class="w"> </span>stats<span class="w"> </span>numpy
</code></pre></div>
<ul>
<li>Use <code>pdm update</code> the re-lock the dependencies
  (write the complete dependency resolution in <code>pdm.lock</code>)
  and install their updated version.</li>
<li>Use <code>pdm lock</code> to just re-lock the dependencies.</li>
<li>Use <code>pdm run CMD [ARGS...]</code> to run a command installed in <code>__pypackages__</code></li>
<li>Use <code>pdm list</code> to show the list of dependencies.</li>
</ul>
<p>See <code>pdm COMMAND --help</code> for details about each command.</p>
<h3 id="installing-in-__pypackages__-pep-582">Installing in <code>__pypackages__</code> (PEP 582)<a class="headerlink" href="#installing-in-__pypackages__-pep-582" title="Permanent link">¤</a></h3>
<p>Configure PDM to install dependencies in <code>__pypackages__</code>:</p>
<div class="highlight"><pre><span></span><code>pdm<span class="w"> </span>config<span class="w"> </span>python.use_venv<span class="w"> </span><span class="nb">false</span>
</code></pre></div>
<h3 id="installing-in-virtualenvs">Installing in virtualenvs<a class="headerlink" href="#installing-in-virtualenvs" title="Permanent link">¤</a></h3>
<div class="admonition warning">
<p class="admonition-title">Our "PDM Multirun" plugin does not support virtualenvs yet!</p>
</div>
<p>Configure PDM to create the different virtualenvs outside of the project:</p>
<div class="highlight"><pre><span></span><code>pdm<span class="w"> </span>config<span class="w"> </span>python.use_venv<span class="w"> </span><span class="nb">true</span>
pdm<span class="w"> </span>config<span class="w"> </span>venv.in_project<span class="w"> </span><span class="nb">false</span>
</code></pre></div>
<h2 id="tasks">Tasks<a class="headerlink" href="#tasks" title="Permanent link">¤</a></h2>
<p>The tasks are written in Python (for cross-platform compatibility),
and based on the task-runner called <a href="https://github.com/pawamoy/duty">duty</a>.
They are written in the <code>duties.py</code> file,
and decorated with the <code>@duty</code> decorator.</p>
<p>Example:</p>
<div class="highlight"><span class="filename">duties.py</span><pre><span></span><code><span class="nd">@duty</span>
<span class="k">def</span> <span class="nf">check_docs</span><span class="p">(</span><span class="n">ctx</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Check if the documentation builds correctly.&quot;&quot;&quot;</span>
    <span class="n">ctx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;mkdocs build -s&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Building documentation&quot;</span><span class="p">)</span>
</code></pre></div>
<p>To run a task, use <code>pdm run duty TASK [ARG=VALUE...]</code>.
You can run multiple tasks at once: <code>pdm run duty TASK1 ARG=VALUE TASK2</code>.
You can list the available tasks with <code>pdm run duty --list</code>.</p>
<p>Available tasks:</p>
<ul>
<li><code>changelog</code>: Update the changelog in-place with latest commits.
  See <a href="#changelog">the Changelog section</a>.</li>
<li><code>check</code>: Check it all!
  See <a href="#quality-analysis">the Quality Analysis section</a>.</li>
<li><code>check-quality</code>: Check the code quality.
  See <a href="#check-quality">the check-quality section</a>.</li>
<li><code>check-dependencies</code>: Check for vulnerabilities in dependencies.
  See <a href="#check-dependencies">the check-dependencies section</a>.</li>
<li><code>check-docs</code>: Check if the documentation builds correctly.
  See <a href="#check-docs">the check-docs section</a>.</li>
<li><code>check-types</code>: Check that the code is correctly typed.
  See <a href="#check-types">the check-types section</a>.</li>
<li><code>clean</code>: Delete temporary files.</li>
<li><code>coverage</code>: Report coverage as text and HTML.</li>
<li><code>docs</code>: Serve the documentation (localhost:8000).
  See <a href="#documentation">the Documentation section</a>.
  Arguments:<ul>
<li><code>host="127.0.0.1"</code>: The host to serve the docs from.</li>
<li><code>port=8000</code>: The port to serve the docs on.</li>
</ul>
</li>
<li><code>format</code>: Run formatting tools on the code.</li>
<li><code>release</code>: Release a new Python package.
  See <a href="#releases">the Releases section</a>.
  Arguments:<ul>
<li><code>version</code> The Python package version.</li>
</ul>
</li>
<li><code>test</code>: Run the test suite.
  See <a href="#tests">the Tests section</a>.
  Arguments:<ul>
<li><code>match=""</code>: A pytest expression to filter selected tests.</li>
</ul>
</li>
</ul>
<h3 id="vscode-setup">VSCode setup<a class="headerlink" href="#vscode-setup" title="Permanent link">¤</a></h3>
<p>If you work in VSCode, here are some pre-defined tasks and run configurations:</p>
<details><summary>Click to see <code>.vscode/tasks.json</code></summary>

<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="c1">// See https://go.microsoft.com/fwlink/?LinkId=733558</span>
<span class="w">    </span><span class="c1">// for the documentation about the tasks.json format</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2.0.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;changelog&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shell&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty changelog&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;check&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty check&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;check-quality&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty check-quality&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;check-types&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty check-types&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;check-docs&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty check-docs&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;check-dependencies&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty check-dependencies&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;check-api&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty check-api&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;clean&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty clean&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;docs&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty docs&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;docs-deploy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty docs-deploy&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;format&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty format&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lock&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm lock -G:all&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;release&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty release ${input:version}&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;setup&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bash scripts/setup.sh&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;label&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;process&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdm run duty test coverage&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;inputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;version&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;promptString&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Version&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

</details>

<details><summary>Click to see <code>.vscode/launch.json</code></summary>

<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="c1">// Use IntelliSense to learn about possible attributes.</span>
<span class="w">    </span><span class="c1">// Hover to view descriptions of existing attributes.</span>
<span class="w">    </span><span class="c1">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0.2.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;configurations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python (current file)&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;program&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;${file}&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;console&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integratedTerminal&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;justMyCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;test&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;python&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;request&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;launch&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pytest&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;justMyCode&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;args&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;-c=config/pytest.ini&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;-vvv&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;--no-cov&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;--dist=no&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;tests&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;-k=${input:selection}&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;inputs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;selection&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;promptString&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Tests selection&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

</details>

<h3 id="makefile">Makefile<a class="headerlink" href="#makefile" title="Permanent link">¤</a></h3>
<p>A Makefile is available for convenience. It's just a shortcut to run duties.</p>
<p>Available rules are the same, with additional rules: <code>help</code>, <code>lock</code> and <code>setup</code>.</p>
<ul>
<li><code>changelog</code></li>
<li><code>check</code></li>
<li><code>check-quality</code></li>
<li><code>check-dependencies</code></li>
<li><code>check-docs</code></li>
<li><code>check-types</code></li>
<li><code>clean</code></li>
<li><code>coverage</code></li>
<li><code>docs</code></li>
<li><code>format</code></li>
<li><code>lock</code></li>
<li><code>release</code></li>
<li><code>setup</code></li>
<li><code>test</code></li>
</ul>
<p>The default rule is <code>help</code>, so running <code>make</code> will show the available rules.
The <code>setup</code> rule is explained below.</p>
<h2 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permanent link">¤</a></h2>
<p>The first thing you should run when entering your repository is:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>setup
</code></pre></div>
<p>This will install the project's dependencies in <code>__pypackages__</code>:
one folder per chosen Python version.
The chosen Python versions are defined in the Makefile.</p>
<p>If you don't have the <code>make</code> command,
you can use <code>bash scripts/setup.sh</code> instead,
or even just <code>pdm install</code>
if you don't plan on using multiple Python versions.</p>
<p>Now you can start writing and editing code in <code>src/your_package</code>.</p>
<ul>
<li>You can auto-format the code with <code>make format</code>.</li>
<li>You can run a quality analysis with <code>make check</code>.</li>
<li>Once you wrote tests for your new code,
  you can run the test suite with <code>make test</code>.</li>
<li>Once you are ready to publish a new release,
  run <code>make changelog</code>, then <code>make release version=x.y.z</code>,
  where <code>x.y.z</code> is the version added to the changelog.</li>
</ul>
<p>To summarize, the typical workflow is:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>setup<span class="w">  </span><span class="c1"># only once</span>

&lt;write<span class="w"> </span>code&gt;
make<span class="w"> </span>format<span class="w">  </span><span class="c1"># to auto-format the code</span>

&lt;write<span class="w"> </span>tests&gt;
make<span class="w"> </span><span class="nb">test</span><span class="w">  </span><span class="c1"># to run the test suite</span>

make<span class="w"> </span>check<span class="w">  </span><span class="c1"># to check if everything is OK</span>

&lt;commit<span class="w"> </span>your<span class="w"> </span>changes&gt;

make<span class="w"> </span>changelog<span class="w">  </span><span class="c1"># to update the changelog</span>
&lt;edit<span class="w"> </span>changelog<span class="w"> </span><span class="k">if</span><span class="w"> </span>needed&gt;

make<span class="w"> </span>release<span class="w"> </span><span class="nv">version</span><span class="o">=</span>x.y.z
</code></pre></div>
<p>Remember that <code>make</code> is just a shortcut for <code>pdm run duty</code> here.</p>
<h2 id="quality-analysis">Quality analysis<a class="headerlink" href="#quality-analysis" title="Permanent link">¤</a></h2>
<p>The quality checks are started with:</p>
<div class="highlight"><pre><span></span><code>make check
</code></pre></div>
<p>This action is actually a composition of several checks:</p>
<ul>
<li><code>check-quality</code>: Check the code quality.</li>
<li><code>check-dependencies</code>: Check for vulnerabilities in dependencies.</li>
<li><code>check-docs</code>: Check if the documentation builds correctly.</li>
<li><code>check-types</code>: Check if the code is correctly typed.</li>
<li><code>check-api</code>: Check for breaking changes in your Python API.</li>
</ul>
<p>For example, if you are only interested in checking types,
run <code>make check-types</code>.</p>
<h3 id="check-quality">check-quality<a class="headerlink" href="#check-quality" title="Permanent link">¤</a></h3>
<p>The code quality analysis is done
with <a href="https://flake8.pycqa.org/en/latest/">Flake8</a>,
and a battery of Flake8 plugins.
The analysis is configured in <code>config/flake8.ini</code>.
In this file, you can deactivate rules
or activate others to customize your analysis.
Rules identifiers always start with one or more capital letters,
like <code>D</code>, <code>S</code> or <code>BLK</code>, then followed by a number.</p>
<p>You can ignore a rule on a specific code line by appending
a <code>noqa</code> comment ("no quality analysis/assurance"):</p>
<div class="highlight"><span class="filename">src/your_package/module.py</span><pre><span></span><code><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;a code line that triggers a flake8 warning&quot;</span><span class="p">)</span>  <span class="c1"># noqa: ID</span>
</code></pre></div>
<p>...where ID is the identifier of the rule you want to ignore for this line.</p>
<p>Example:</p>
<div class="highlight"><span class="filename">src/your_package/module.py</span><pre><span></span><code><span class="kn">import</span> <span class="nn">subprocess</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>make<span class="w"> </span>check-quality
<span class="go">✗ Checking code quality (1)</span>
<span class="go">  &gt; flake8 --config=config/flake8.ini src/ tests/ scripts/</span>
<span class="go">  src/your_package/module.py:2:1: S404 Consider possible security implications associated with subprocess module.</span>
</code></pre></div>
<p>Now add a comment to ignore this warning.
As a best-practice, and because rules identifiers
are not self-explanatory, add a comment explaining
why we ignore the warning:</p>
<div class="highlight"><span class="filename">src/your_package/module.py</span><pre><span></span><code><span class="kn">import</span> <span class="nn">subprocess</span>  <span class="c1"># noqa: S404 (we don&#39;t mind the security implications)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="gp">$ </span>make<span class="w"> </span>check-quality
<span class="go">✓ Checking code quality</span>
</code></pre></div>
<p>You can disable multiple different warnings on a single line
by separating them with commas:</p>
<div class="highlight"><span class="filename">src/your_package/module.py</span><pre><span></span><code><span class="n">markdown_docstring</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    Look at this docstring:</span>

<span class="s2">    ```python</span>
<span class="s2">    </span><span class="se">\&quot;\&quot;\&quot;</span>
<span class="s2">    print(&quot;code block&quot;)</span>
<span class="s2">    </span><span class="se">\&quot;\&quot;\&quot;</span>
<span class="s2">    ```</span>
<span class="s2">&quot;&quot;&quot;</span>  <span class="c1"># noqa: D300,D301 (escape sequences: it&#39;s not a regex)</span>
</code></pre></div>
<p>You can disable a warning globally by adding its ID
into the list in <code>pyproject.toml</code>, section <code>[tool.flakehell.plugins]</code>.</p>
<p>You can also disable warnings per file, like so:</p>
<div class="highlight"><span class="filename">config/flake8.ini</span><pre><span></span><code><span class="na">per-file-ignores</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="c1"># mutable constant</span>
<span class="w">    </span><span class="na">src/your_package/your_module.py</span><span class="o">:</span><span class="s">WPS407</span>
</code></pre></div>
<h3 id="check-dependencies">check-dependencies<a class="headerlink" href="#check-dependencies" title="Permanent link">¤</a></h3>
<p>This action uses the tool <a href="https://github.com/pyupio/safety"><code>safety</code></a>
to check if the <strong>production</strong> dependencies used in the project
are subject to CVEs by querying an online database.</p>
<p>An example of full report looks like the following:</p>
<div class="highlight"><pre><span></span><code>+==============================================================================+
| REPORT                                                                       |
+============================+===========+==========================+==========+
| package                    | installed | affected                 | ID       |
+============================+===========+==========================+==========+
| django                     | 1.2       | &lt;1.2.2                   | 25701    |
+==============================================================================+
| Cross-site scripting (XSS) vulnerability in Django 1.2.x before 1.2.2 allows |
|  remote attackers to inject arbitrary web script or HTML via a csrfmiddlewar |
| etoken (aka csrf_token) cookie.                                              |
+==============================================================================+
</code></pre></div>
<h3 id="check-docs">check-docs<a class="headerlink" href="#check-docs" title="Permanent link">¤</a></h3>
<p>This action builds the documentation with strict behavior:
any warning will be considered an error and the command will fail.</p>
<p>The warnings/errors can be about incorrect docstring format,
or invalid cross-references.</p>
<p>See the <a href="#documentation">Documentation section</a> for more information.</p>
<h3 id="check-types">check-types<a class="headerlink" href="#check-types" title="Permanent link">¤</a></h3>
<p>This action runs <a href="http://mypy-lang.org/"><code>mypy</code></a> on the source code
to find potential typing errors.</p>
<p>If you cannot or don't know how to fix a typing error in your code,
as a last resort you can ignore this specific error with a comment:</p>
<div class="highlight"><span class="filename">src/your_package/module.py</span><pre><span></span><code><span class="n">result</span> <span class="o">=</span> <span class="n">data_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">value</span>  <span class="c1"># type: ignore</span>
</code></pre></div>
<h3 id="check-api">check-api<a class="headerlink" href="#check-api" title="Permanent link">¤</a></h3>
<p>This actions runs <a href="https://github.com/mkdocstrings/griffe">Griffe</a>
to search for API breaking changes since latest version. It is set
to allow failures, and is more about providing information than
preventing CI to pass.</p>
<h2 id="tests">Tests<a class="headerlink" href="#tests" title="Permanent link">¤</a></h2>
<p>Run the test suite with:</p>
<div class="highlight"><pre><span></span><code>make test
</code></pre></div>
<p>Behind the scenes, it uses <a href="https://docs.pytest.org/en/stable/"><code>pytest</code></a>
and plugins to collect and run the tests, and output a report.</p>
<p>Code source coverage is computed thanks to
<a href="https://coverage.readthedocs.io/en/coverage-5.1/">coveragepy</a>.</p>
<p>Sometimes you don't want to run the whole test suite,
but rather one particular test, or group of tests.
Pytest provides a <code>-k</code> option to allow filtering the tests.
The Makefile <code>test</code> rule therefore accept a <code>match=</code> argument
to specify the value of Pytest's <code>-k</code> option:</p>
<div class="highlight"><pre><span></span><code>make test match=training
make test match=&quot;app and route2&quot;
</code></pre></div>
<p>Example of output:</p>
<div class="highlight"><pre><span></span><code>Test session starts (platform: linux, Python 3.8.6, pytest 6.2.1, pytest-sugar 0.9.4)
Using --randomly-seed=281943462
rootdir: /home/pawamoy/data/dev/pawamoy/duty, configfile: config/pytest.ini
plugins: randomly-3.5.0, xdist-2.2.0, forked-1.3.0, cov-2.10.1, sugar-0.9.4
collecting ... 
 tests/test_logic.py ✓✓✓✓✓✓✓✓✓✓✓✓                                          15% █▋        
 tests/test_cli.py ✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓✓ 86% ████████▋ 
                   ✓✓✓✓✓✓✓✓✓✓✓                                            100% ██████████

----------- coverage: platform linux, python 3.8.6-final-0 -----------
Name                Stmts   Miss Branch BrPart     Cover
--------------------------------------------------------
src/duty/cli.py        62      0     20      0   100.00%
src/duty/logic.py      71      0     18      0   100.00%
--------------------------------------------------------
TOTAL                 133      0     38      0   100.00%


Results (0.76s):
      78 passed
</code></pre></div>
<h2 id="continuous-integration">Continuous Integration<a class="headerlink" href="#continuous-integration" title="Permanent link">¤</a></h2>
<p>The quality checks and tests are executed in parallel
in a <a href="https://docs.github.com/en/actions/learn-github-actions/workflow-syntax-for-github-actions">GitHub Workflow</a>.
The CI is configured in <code>.github/workflows/ci.yml</code>.</p>
<p>To force a step to pass even when it fails,
add <code>nofail=CI</code> or <code>nofail=True</code> to the corresponding
<code>ctx.run</code> instruction in <code>duties.py</code></p>
<h2 id="changelog">Changelog<a class="headerlink" href="#changelog" title="Permanent link">¤</a></h2>
<p>Changelogs are absolutely useful when your software
is updated regularly, to inform your users about the new features
that were added or the bugs that were fixed.</p>
<p>But writing a changelog manually is a cumbersome process.</p>
<p>This is why we offer, with this template,
a way to automatically update the changelog.
There is one requirement though for it to work:
you must use the
<a href="https://github.com/angular/angular/blob/master/CONTRIBUTING.md#commit">Angular commit message convention</a>.</p>
<p>For a quick reference:</p>
<div class="highlight"><pre><span></span><code>&lt;type&gt;[(scope)]: Subject

[Body]
</code></pre></div>
<p>Scope and body are optional. Type can be:</p>
<ul>
<li><code>build</code>: About packaging, building wheels, etc.</li>
<li><code>chore</code>: About packaging or repo/files management.</li>
<li><code>ci</code>: About Continuous Integration.</li>
<li><code>docs</code>: About documentation.</li>
<li><code>feat</code>: New feature.</li>
<li><code>fix</code>: Bug fix.</li>
<li><code>perf</code>: About performance.</li>
<li><code>refactor</code>: Changes which are not features nor bug fixes.</li>
<li><code>style</code>: A change in code style/format.</li>
<li><code>tests</code>: About tests.</li>
</ul>
<p>The two most important are <code>feat</code> and <code>fix</code> types.
For other types of commits, you can do as you like.</p>
<p>Subject (and body) must be valid Markdown.
If you write a body, please add issues references at the end:</p>
<div class="highlight"><pre><span></span><code>Body.

References: #10, #11.
Fixes #15.
</code></pre></div>
<p>Examples:</p>
<div class="highlight"><pre><span></span><code>feat: Add training route
</code></pre></div>
<div class="highlight"><pre><span></span><code>fix: Stop deleting user data
</code></pre></div>
<p>Following that convention will allow to generate
new entries in the changelog while following the rules
of <a href="https://semver.org/">semantic versioning</a>.</p>
<p>Once you are ready to publish a new release of your package,
run the following command:</p>
<div class="highlight"><pre><span></span><code>make changelog
</code></pre></div>
<p>This will update the changelog in-place, using the latest,
unpublished-yet commits.</p>
<p>If this group of commits contains only bug fixes (<code>fix:</code>)
and/or commits that are not interesting for users (<code>chore:</code>, <code>style:</code>, etc.),
the changelog will gain a new <strong>patch</strong> entry.
It means that the new suggested version will be a patch bump
of the previous one: <code>0.1.1</code> becomes <code>0.1.2</code>.</p>
<p>If this group of commits contains at least one feature (<code>feat:</code>),
the changelog will gain a new <strong>minor</strong> entry.
It means that the new suggested version will be a minor bump
of the previous one: <code>0.1.1</code> becomes <code>0.2.0</code>.</p>
<p>If there is, in this group, a commit whose body contains
something like <code>Breaking change</code>,
the changelog will gain a new <strong>major</strong> entry,
unless the version is still an "alpha" version
(starting with 0), in which case it gains a <strong>minor</strong> entry.
It means that the new suggested version will be a major bump
of the previous one: <code>1.2.1</code> becomes <code>2.0.0</code>,
but <code>0.2.1</code> is only bumped up to <code>0.3.0</code>.
Moving from "alpha" status to "beta" or "stable" status
is a choice left to the developers,
when they consider the package is ready for it.</p>
<p>Finally, once your changelog has been updated,
make sure its contents are correct (add, remove or edit anything
you need), and use the new version (the one that was added
into the changelog) to create a new release:</p>
<div class="highlight"><pre><span></span><code>make release version=x.y.z
</code></pre></div>
<p>...where x.y.z is the version added in the changelog.</p>
<h2 id="releases">Releases<a class="headerlink" href="#releases" title="Permanent link">¤</a></h2>
<p>As seen in the previous section, you can use the <code>release</code> rule
of the Makefile to publish new versions of the Python package.</p>
<p>Usually, just before running <code>make release version=x.y.z</code>,
you run <code>make changelog</code> to update the changelog and
use the newly added version as the argument to <code>make release</code>.</p>
<p>For example, if after running <code>make changelog</code>, the diff
shows a new <code>0.5.1</code> entry in the changelog, you must
release this exact same version with <code>make release version=0.5.1</code>.</p>
<p>The <code>release</code> action does several things, in this order:</p>
<ul>
<li>Update the version in <code>pyproject.toml</code></li>
<li>Stage the modified files (<code>pyproject.toml</code> and <code>CHANGELOG.md</code>)</li>
<li>Commit the changes with a message like <code>chore: Prepare release 0.5.1</code></li>
<li>Tag the commit with that version</li>
<li>Push the commits</li>
<li>Push the tags</li>
<li>Build the package dist and wheel</li>
<li>Publish the dist and wheel to PyPI.org</li>
</ul>
<h2 id="documentation">Documentation<a class="headerlink" href="#documentation" title="Permanent link">¤</a></h2>
<p>The documentation is built with <a href="https://www.mkdocs.org/">Mkdocs</a>,
the <a href="https://squidfunk.github.io/mkdocs-material/">Material for Mkdocs</a> theme,
and the <a href="https://github.com/pawamoy/mkdocstrings">mkdocstrings</a> plugin.</p>
<h3 id="writing">Writing<a class="headerlink" href="#writing" title="Permanent link">¤</a></h3>
<p>The pages are written in Markdown, and thanks to <code>mkdocstrings</code>,
even your Python docstrings can be written in Markdown.
<code>mkdocstrings</code> particularly supports the
<a href="https://sphinxcontrib-napoleon.readthedocs.io/en/latest/example_google.html">Google-style</a>
for docstrings.</p>
<p>The documentation configuration is written into <code>mkdocs.yml</code>,
at the root of the project. The Markdown pages are written
in the <code>docs/</code> directory. You can use any level of nesting you want.
The left-sidebar navigation is configured through the <code>nav</code> key
in <code>mkdocs.yml</code>.</p>
<p>For example, with these docs structure:</p>
<div class="highlight"><pre><span></span><code>📁 docs
├── 📄 changelog.md
├── 📄 index.md
└── 📁 reference
    ├── 📄 cli.md
    └── 📄 logic.md
</code></pre></div>
<p>...you can have these navigation items in <code>mkdocs.yml</code>:</p>
<div class="highlight"><span class="filename">mkdocs.yml</span><pre><span></span><code><span class="nt">nav</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Overview</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">index.md</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Code Reference</span><span class="p">:</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">cli.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference/cli.md</span>
<span class="w">  </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">logic.py</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">reference/logic.md</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">Changelog</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">changelog.md</span>
</code></pre></div>
<p>Note that we matched the sections in the navigation with the folder tree,
but that is not mandatory.</p>
<p><code>mkdocstrings</code> allows you to inject documentation of Python objects
in Markdown pages with the following syntax:</p>
<div class="highlight"><pre><span></span><code>::: path.to.object
    OPTIONS
</code></pre></div>
<p>...where <code>OPTIONS</code> is a YAML block containing configuration options
for both the selection of Python objects and their rendering.</p>
<p>You can document an entire module or even package with a single instruction:</p>
<div class="highlight"><pre><span></span><code>::: your_package
</code></pre></div>
<p>...but it's usually better to have each module injected in a separate page.</p>
<p>For more information about <code>mkdocstrings</code>,
check <a href="https://pawamoy.github.io/mkdocstrings">its documentation</a>.</p>
<h3 id="serving">Serving<a class="headerlink" href="#serving" title="Permanent link">¤</a></h3>
<p>MkDocs provides a development server with files watching and live-reload.
Run <code>make docs</code> to serve your documentation on <code>localhost:8000</code>.</p>
<p>If you run it in a remote host (Linux VM) and would like to access it
from your local browser, bind the server to 0.0.0.0 instead:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>docs<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">0</span>.0.0.0
</code></pre></div>
<p>If needed, you can also change the port used:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>docs<span class="w"> </span><span class="nv">host</span><span class="o">=</span><span class="m">0</span>.0.0.0<span class="w"> </span><span class="nv">port</span><span class="o">=</span><span class="m">5000</span>
</code></pre></div>
<h3 id="deploying">Deploying<a class="headerlink" href="#deploying" title="Permanent link">¤</a></h3>
<p>MkDocs has a <code>gh-deploy</code> command that will deploy
you documentation on GitHub pages.
We make use of this command in the <code>docs-deploy</code> action:</p>
<div class="highlight"><pre><span></span><code>make<span class="w"> </span>docs-deploy
</code></pre></div>
<p>If you'd prefer to deploy on ReadTheDocs instead,
you will likely have to write
a <code>readthedocs.yml</code> configuration file
and enable the project on ReadTheDocs.</p>






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/pawamoy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/pawamoy" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top"], "search": "../assets/javascripts/workers/search.6c7302c4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.daf26eb8.min.js"></script>
      
    
  </body>
</html>